#ifndef IO_H
#define IO_H
unsigned char inb(unsigned short port_no);
unsigned short in16(unsigned short port_no);
unsigned int in32(unsigned short port_no);

void outb(unsigned short port_no,unsigned char data);
void out16(unsigned short port_no,unsigned short data);
void out32(unsigned short port_no,unsigned int data);
#endif

the above are the contents of io.h
we have prototypes of six functions , 3 for in and 3for out
in the 3 in functions we have the provision to access 
i) a byte(8bits)
ii)2bytes(16bits)
iii)4bytes(32bits)
from a  port passed  as a parameter

similarly we have 3 functions for out , we can write a 
i)byte
ii)2bytes
iii)4bytes
of data into a port specified

 
section .asm		; making sure that it lands at the end of file by the linker, so it does not disurpt the alignment
global inb
global in16
global in32
		;making all 3 in functions global so it can be accessed outside the program 
global outb
global out16
global out32
		;making all 3 out functionss globla so it can be accessed outside the program
inb:
	push	ebp
	mov	ebp,esp		;should behave like a  normal c function, so we create a stack pointer
	mov	dx,[ebp+8]	;first param on dx
	xor	al,al		;clearing al to store data
	in	al,dx		;data stored in al, which is part of ax which is the return value

	pop	ebp
	ret
		

in16:
	push	ebp
	mov	ebp,esp
	xor	ax,ax
	mov	dx,[ebp+8]
	in	ax,dx
	pop	ebp
	ret
			;same as the above but clear ax and move to ax , for setting it to last 16 bits
in32:	
	push	ebp
	mov	ebp,esp
	xor	eax,eax
	mov	dx,[ebp+8]
	in	eax,dx
	pop	ebp
	ret
			;same as the above but clear eax, and move to eax, for setting it to last 32 bits
outb:
	push 	ebp
	mov	ebp,esp
	mov	al,[ebp+12]	;second param in al, 8bit val
	mov	dx,[ebp+8]
	out	dx,al
	pop	ebp
	ret

out16:
	push	ebp
	mov	ebp,esp
	mov	ax,[ebp+12]	;second param in al, 16bit val
	mov	dx,[ebp+8]
	out	dx,ax
	pop	ebp
	ret
out32:
	push	ebp
	mov	ebp,esp
	mov	eax,[ebp+12]
	mov	dx,[ebp+8]
	out	dx,eax
	pop	ebp
	ret
